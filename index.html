<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcul de Protection</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main>
        <h2>Calculateur de protections de bord</h2>

<form id="plankForm">
    <label for="length">Longueur de la planche (en cm):</label>
    <input type="tel" id="length" name="length" pattern="[0-9]*" inputmode="numeric" value="2020">
    <br>
    <label for="width">Largeur de la planche (en cm):</label>
    <input type="tel" id="width" name="width" pattern="[0-9]*" inputmode="numeric" value="935">
    <br>
    <label for="quantity">Quantité de planches:</label>
    <input type="tel" id="quantity" name="quantity" pattern="[0-9]*" inputmode="numeric" value="4">
    <br>
    <input type="button" value="Ajouter" onclick="addPlank()">
    <input type="button" value="Calculer" onclick="calculateEdgeProtection()">
</form>

<table id="plankTable">
    <tr>
        <th>Longueur</th>
        <th>Largeur</th>
        <th>Quantité</th>
        <th>Nombre de paquets</th>
    </tr>
</table>

<div id="resultsContainer"></div>

</main>

<script>
var planks = [];

function addPlank() {
    var width = document.getElementById("width").value;
    var length = document.getElementById("length").value;
    var quantity = document.getElementById("quantity").value;

    var plank = {
        width: width,
        length: length,
        quantity: quantity
    };

    planks.push(plank);

    var table = document.getElementById("plankTable");
    var row = table.insertRow(-1);
    var widthCell = row.insertCell(0);
    var lengthCell = row.insertCell(1);
    var quantityCell = row.insertCell(2);
    var packageCell = row.insertCell(3);

    widthCell.innerHTML = width + " mm";
    lengthCell.innerHTML = length + " mm";
    quantityCell.innerHTML = quantity + " pcs";
    packageCell.innerHTML = Math.ceil(quantity / 2);
}

function calculateEdgeProtection() {
    var widthProtectionSize = 0;
    var lengthProtectionSize = 0;
    var widthProtectionQuantity = 0;
    var lengthProtectionQuantity = 0;

    for (var i = 0; i < planks.length; i++) {
        var plank = planks[i];
        widthProtectionSize += parseInt(plank.width);
        lengthProtectionSize += parseInt(plank.length);
        widthProtectionQuantity += 2 * parseInt(plank.quantity);
        lengthProtectionQuantity += 2 * parseInt(plank.quantity);
    }

    var resultsContainer = document.getElementById("resultsContainer");
    resultsContainer.innerHTML = "";

    for (var i = 0; i < planks.length; i++) {
        var plank = planks[i];
        var result = document.createElement("p");
        result.innerHTML = "Rang " + (i + 1) + ":<br>" +
            (2 * parseInt(plank.quantity))+ " cornières :" + parseInt(plank.width) + " mm."  + " Largeur<br>" +
            (2 * parseInt(plank.quantity))+ " cornières : " + parseInt(plank.length) + " mm." + " Longueur<br><br>";
        resultsContainer.appendChild(result);
    }
}
</script>
</body>
</html>